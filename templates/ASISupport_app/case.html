<!DOCTYPE html>
{% extends "ASISupport_app/base.html" %}
{% load static %}

{% block head_block %}
	<title>Case</title>
	<link rel="stylesheet" type="text/css" href="{% static 'css/case.css' %}">
{% endblock %}

{% block body_block %}
	<section class="col-sm-1 col-sm-10 col-sm-1">
		<form class="form-container" action="{% url 'ASISupport_app:new_case' %}" method="POST">
			{% csrf_token %}
			<!-- show case number -->
			<h1 class="inline_it">Case C000001</h1>

			{% if state == 'view' %}
			<div class="action_btn"><!-- visible when in view mode -->
				<button type="submit" class="btn btn-primary">Edit</button>
				<button type="submit" class="btn btn-primary">Back</button>
			</div>
			{% endif %}

			<hr class="solid">

			<!-- choose type and status -->
			<dir class="inline_it">
				<div>
					<label for="type">Type</label>
				</div>
				<select class="form-select select_bar" id="type">
					<option selected>Choose...</option>
					<option value="1">One</option>
				</select>
			</dir>

			<dir class="inline_it">
				<div>
					<label for="status">Status</label>
				</div>
				<select class="form-select select_bar" id="status">
					<option selected>Choose...</option>
					<option value="1">One</option>
				</select>
			</dir>

			<!-- choose projected and actual dates -->
			<div class="inline_it date_bar">
				<div>
					<label for="projected_date">Projected Completion Date</label>
				</div>
				<input class="form-control datepicker" id="projected_date" type="date">
			</div>

			<div class="inline_it date_bar">
				<div>
					<label for="actual_date">Actual Completion Date</label>
				</div>
				<input class="form-control datepicker" id="actual_date" type="date">
			</div>

			<hr class="solid">

			<!-- choose case manager and check machine down -->
			<dir class="inline_it">
				<div>
					<label for="case_manager">Case Manager</label>
				</div>
				<select class="form-select select_bar" id="case_manager">
					<option selected>Choose...</option>
					<option value="1">One</option>
				</select>
			</dir>

			<div class="form-check inline_it machine_down_cb">
				<input type="checkbox" id="machine_down">
				<label for="machine_down">Machine Down</label>
			</div>

			<hr class="solid">

			<!-- customer details -->
			<dir class="inline_it">
				<div>
					<label for="customer">Customer</label>
				</div>
				<select class="form-select select_bar" id="customer">
					<option selected>Choose...</option>
					<option value="1">One</option>
				</select>
			</dir>

			<div class="inline_it text_bar">
				<div>
					<label for="customer_contact">Customer Contact</label>
				</div>
				<input class="form-control" id="customer_contact" type="text" placeholder="Enter Name...">
			</div>

			<hr class="solid">

			<!-- Equipment list -->
			<!-- <div>
				<label>Equipment</label>
				<div class="equipment_lst">
					<button type="submit" class="btn btn-primary add_or_del_btn">-</button>

					<dir class="inline_it">
						<div>
							<label for="serial_number">Serial Number</label>
						</div>
						<select class="form-select select_bar" id="serial_number">
							<option selected>Choose...</option>
							<option value="1">One</option>
						</select>
					</dir>

					<dir class="inline_it">
						<div>
							<label for="part_number">Part Number</label>
						</div>
						<select class="form-select select_bar" id="part_number">
							<option selected>Choose...</option>
							<option value="1">One</option>
						</select>
					</dir>

					<dir class="inline_it">
						<div>
							<label for="equipt_description">Description</label>
						</div>
						<select class="form-select select_bar" id="equipt_description">
							<option selected>Choose...</option>
							<option value="1">One</option>
						</select>
					</dir>

					<div class="inline_it date_bar">
						<div>
							<label for="Installation_date">Installation Date</label>
						</div>
						<input class="form-control datepicker" id="Installation_date" type="date">
					</div>

					<div class="inline_it text_bar">
						<div>
							<label for="warranty">Warranty Period</label>
						</div>
						<input class="form-control" id="warranty" type="text">
					</div>

					<div>
						<button type="submit" class="btn btn-primary add_or_del_btn">+</button>
					</div>
				</div>
			</div> -->
			<div>
				<label>Equipment</label>
				<div class="object_table">
					<table class="table table-hover">
						<thead>
							<tr>
								<th scope="col"></th>
								<th scope="col">Serial Number</th>
					    		<th scope="col">Part Number</th>
					    		<th scope="col">Description</th>
					    		<th scope="col">Installation Date</th>
					    		<th scope="col">Warranty Period</th>
					    	</tr>
						</thead>
						<tbody>
							<tr>
								<td>
									<button type="submit" class="btn btn-primary add_or_del_btn">-</button>
								</td>
								<td>
									<select class="form-select select_bar" id="serial_number">
										<option selected>Choose...</option>
										<option value="1">One</option>
									</select>
								</td>
								<td>
									<select class="form-select select_bar" id="part_number">
										<option selected>Choose...</option>
										<option value="1">One</option>
									</select>
								</td>
								<td>
									<select class="form-select select_bar" id="equipt_description">
										<option selected>Choose...</option>
										<option value="1">One</option>
									</select>
								</td>
								<td>
									<input class="form-control datepicker" id="Installation_date" type="date">
								</td>
								<td>
									<input class="form-control inline_it" id="warranty" type="text">
									<label>months</label>
								</td>
							</tr>
							<tr>
								<td>
									<button type="submit" class="btn btn-primary add_or_del_btn">+</button>
								</td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
								<td></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>

			<!-- add textarea for description -->
			<div class="form-group description_bar">
				<label for="case_description">Case Description</label>
				<textarea class="form-control" id="case_description" rows="3"></textarea>
			</div>

			<!-- visit list -->
			{% if state == 'view' %}
			<div>
				<label>Visits</label>
				<div class="object_table">
					<table class="table table-hover">
						<thead>
							<tr>
					    		<th scope="col">Visit Number</th>
					    		<th scope="col">Visit Date</th>
					    	</tr>
						</thead>
						<tbody>
							{% for visit in visits %}
							<tr>
								<td><a href="{% url 'ASISupport_app:view_visit' visit.visit_num %}">{{ visit.visit_num }}</a></td>
								<td>{{ visit.visit_date }}</td>
							</tr>
							{% endfor %}
						</tbody>
					</table>
					<a href="{% url 'ASISupport_app:new_visit' %}" class="btn btn-primary btn-sm new_visit_btn">New Visit</a>
				</div>
			</div>
			{% endif %}


			{% if state == 'new' %}
			<div class="action_btn"><!-- visible when in create new or edit mode -->
				<button type="submit" class="btn btn-primary">Save</button>
				<button type="submit" class="btn btn-primary">Cancel</button>
			</div>
			{% endif %}

		</form>
	</section>
{% endblock %}